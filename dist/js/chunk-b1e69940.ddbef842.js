(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1e69940"],{"6b70":function(t,e,a){"use strict";a("a425")},"781a":function(t,e,a){"use strict";a("7ac4")},"7ac4":function(t,e,a){},a425:function(t,e,a){},eacb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shoplist"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品列表")])],1),a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:!0},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("el-button",{staticClass:"search-btn",attrs:{icon:"el-icon-search"},on:{click:t.onSearch}})],1),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.addGood}},[t._v("添加商品")])],1),a("ch-goodslist",{attrs:{goodsList:t.goods}}),a("el-pagination",{attrs:{background:"","current-page":t.page,layout:"sizes, prev, pager, next,total","page-sizes":t.pagesizes,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],1)},s=[],o=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodslist"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,border:!0,stripe:!0}},[a("el-table-column",{attrs:{prop:"index",label:"#",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"upd_time",label:"创建时间",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"btn",attrs:{type:"primary",icon:"el-icon-edit"}},[t._v("编辑")]),a("el-button",{staticClass:"btn",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.deleteGoods(e.row.goods_id)}}},[t._v("删除")])]}}])})],1)],1)},c=[],i=a("c40e"),l={name:"GoodsList",components:{},props:{goodsList:{type:[String,Array,Object]}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{deleteGoods:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["h"])(t);case 2:n=a.sent,200==n.meta.status&&(e.$message({type:"success",message:n.meta.msg}),e.$parent.$parent.getGoodsList());case 4:case"end":return a.stop()}}),a)})))).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}},u=l,d=(a("6b70"),a("2877")),p=Object(d["a"])(u,r,c,!1,null,"14895116",null),g=p.exports,h={name:"ShopList",components:{"ch-goodslist":g},props:{},data:function(){return{token:"",input:"",pagesizes:[5,10,15,20],total:1e3,page:1,size:10,goods:[]}},computed:{},watch:{},created:function(){this.token=localStorage.getItem("token"),this.getGoodsList()},mounted:function(){},methods:{getGoodsList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["l"])({query:t.input,pagenum:t.page,pagesize:t.size,token:t.token});case 2:a=e.sent,200==a.meta.status&&(t.goods=a.data.goods,t.total=a.data.total,t.$message({message:a.meta.msg,type:"success"}));case 4:case"end":return e.stop()}}),e)})))()},onSearch:function(){this.getGoodsList()},sizeChange:function(t){this.size=t,this.getGoodsList()},currentChange:function(t){this.page=t,this.getGoodsList()},addGood:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$router.push({name:"addShop"});case 1:case"end":return e.stop()}}),e)})))()}}},m=h,b=(a("781a"),Object(d["a"])(m,n,s,!1,null,"dca9d34c",null));e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-b1e69940.ddbef842.js.map